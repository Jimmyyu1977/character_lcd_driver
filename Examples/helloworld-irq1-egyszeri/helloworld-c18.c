//******************************************************************************
// 8 bites 18Fxxx helloworld demo az charlcd teszteléséhez
// készítõ: Roberto Benjami (robertodebenjami(at)gmail(dot)com)
//
// charlcd.h szükséges beállításai:
// - LCDMODEONCEIRQ üzemmód
// - a többi beállítás bármi lehet, csak a felhasznált mikrovezérlõ is támogassa
//   (pl.a beállított I/O láb és a TIMER létezzen)
// - adott esetben az I/O lábak analógról -> digitálisra történõ átállításáról gondoskodjunk!
// - két kijelzõ (LCDSTEREO) használata esetén, csak az elsõ kijelzõn fog megjelenni az felirat
//   (ha hosszabb szöveget írunk az LcdText-be, akkor a második kijelzõre is át fog lógni)
//******************************************************************************

#include <p18cxxx.h>
#include <string.h>
#include "charlcd.h"

void YourHighPriorityISRCode(void);
void YourLowPriorityISRCode(void);

void main(void)
{
  LcdInit();                            // müködésre bírjuk az LCD-t
  //                             "01020304050607080910111213141516"
  memcpypgm2ram((char *)LcdText, "   Hello world                  ", 32); // kezdõképernyõ feltöltése
  LcdRefreshAll();
  while(1)
  {
  }
}

#pragma code high_vector_section = 0x8
void InterruptVectorHigh(void)
{
  _asm goto YourHighPriorityISRCode _endasm
}

#pragma code low_vector_section = 0x18
void InterruptVectorLow(void)
{
  _asm goto YourLowPriorityISRCode _endasm
}

#pragma code

#pragma interrupt YourHighPriorityISRCode
void YourHighPriorityISRCode(void)
{
}

#pragma interruptlow YourLowPriorityISRCode
void YourLowPriorityISRCode(void)
{
  LcdIntProcess();                      // interrupt mód esetén frissítjük a kijelzõ tartalmát
}
